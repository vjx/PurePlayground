#N canvas 238 168 1105 560 10;
#X msg 47 102 open 0;
#X obj 1204 360 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 1115 210 5 0 0 0 - - -, f 5;
#N canvas 221 77 1092 662 NEOPIXELS 0;
#X obj 300 97 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 7700 1;
#X obj 424 98 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2900 1;
#X floatatom 325 217 5 0 0 0 - - -, f 5;
#X obj 155 101 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 12700 1;
#X floatatom 194 219 5 0 0 0 - - -, f 5;
#X obj 346 347 pack f f f;
#X obj 296 271 t b f;
#X obj 372 278 t b f;
#X obj 155 376 until;
#X obj 155 420 f;
#X obj 155 442 + 1;
#X obj 155 464 mod 10;
#X msg 155 352 10;
#X msg 192 397 -1;
#X obj 155 322 t b b;
#X obj 210 472 list append;
#X msg 211 502 16 \$1 \$2 \$3 \$4 0;
#X obj 309 371 t b b l;
#X msg 338 500 17;
#X floatatom 156 62 5 0 0 0 - - -, f 5;
#X obj 155 240 * 127;
#X obj 242 243 * 63;
#X obj 361 243 * 31;
#X obj -7 226 hsv2rgb;
#X floatatom 59 110 5 0 1 1 Value - -, f 5;
#X floatatom 22 92 5 0 1 1 Saturation - -, f 5;
#X floatatom 4 74 5 0 1 1 Hue - -, f 5;
#X obj 4 146 pack 0 0 0;
#X obj 22 127 t b f;
#X obj 59 127 t b f;
#X obj -6 258 unpack f f f;
#X obj 239 99 / 255;
#X obj 261 -63 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 258 -34 metro 4000;
#X obj 98 -52 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 350 -43 12 0 0 0 - - -, f 12;
#X obj 258 -12 t b b;
#X obj 247 34 pack 255 f;
#X msg 368 32 0;
#X obj 239 77 line;
#X msg 222 -31 stop;
#X msg 525 56 17;
#X obj 466 299 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 466 431 5 0 0 0 - - -, f 5;
#X text 508 449 0x13 PIXEL_BRIGHTNESS 0-100;
#X text 551 56 0x11 PIXEL_SHOW;
#X msg 442 450 19 \$1 \, 17;
#X obj 147 40 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 532 164 18 \, 17;
#X text 579 163 0x12 PIXEL_CLEAR;
#X obj 210 547 s 0-CP-SYSEX;
#X obj 443 473 s 0-CP-SYSEX;
#X obj 533 192 s 0-CP-SYSEX;
#X obj 525 82 s 0-CP-SYSEX;
#X connect 0 0 2 0;
#X connect 0 0 21 0;
#X connect 1 0 22 0;
#X connect 3 0 4 0;
#X connect 3 0 20 0;
#X connect 5 0 17 0;
#X connect 6 0 5 0;
#X connect 6 1 5 1;
#X connect 7 0 5 0;
#X connect 7 1 5 2;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 9 1;
#X connect 11 0 15 0;
#X connect 12 0 8 0;
#X connect 13 0 9 1;
#X connect 14 0 12 0;
#X connect 14 1 13 0;
#X connect 15 0 16 0;
#X connect 16 0 50 0;
#X connect 17 0 18 0;
#X connect 17 1 14 0;
#X connect 17 2 15 1;
#X connect 18 0 50 0;
#X connect 19 0 3 0;
#X connect 20 0 5 0;
#X connect 21 0 6 0;
#X connect 22 0 7 0;
#X connect 23 0 30 0;
#X connect 24 0 29 0;
#X connect 25 0 28 0;
#X connect 26 0 27 0;
#X connect 27 0 23 0;
#X connect 28 0 27 0;
#X connect 28 1 27 1;
#X connect 29 0 27 0;
#X connect 29 1 27 2;
#X connect 30 0 3 0;
#X connect 30 1 0 0;
#X connect 30 2 1 0;
#X connect 31 0 26 0;
#X connect 32 0 33 0;
#X connect 33 0 36 0;
#X connect 34 0 24 0;
#X connect 35 0 33 1;
#X connect 35 0 37 1;
#X connect 36 0 37 0;
#X connect 36 1 38 0;
#X connect 37 0 39 0;
#X connect 38 0 39 0;
#X connect 39 0 31 0;
#X connect 40 0 39 0;
#X connect 41 0 53 0;
#X connect 42 0 46 0;
#X connect 42 0 43 0;
#X connect 46 0 51 0;
#X connect 47 0 3 0;
#X connect 48 0 52 0;
#X restore 203 141 pd NEOPIXELS;
#N canvas 1 77 607 506 BUZZER 0;
#N canvas 364 191 467 461 split 0;
#X text 87 12 Firmata sends 8-bit chars as two 7-bit bytes;
#X obj 32 12 inlet;
#X obj 50 422 outlet;
#X obj 168 173 list;
#X obj 50 361 mapping/tolist;
#X obj 189 112 route bang;
#X obj 189 137 bang;
#X obj 32 311 trigger bang bang;
#X obj 32 54 trigger bang anything;
#X obj 155 89 list split 1;
#X obj 110 208 trigger bang anything anything;
#X text 256 191 LSB;
#X obj 226 298 % 128;
#X text 267 297 only 7-bits of data allowed;
#X text 204 190 MSB;
#X obj 198 234 >> 7;
#X text 235 137 bang resets once finished;
#X connect 1 0 8 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 5 1 3 1;
#X connect 6 0 3 1;
#X connect 7 0 4 0;
#X connect 7 1 4 1;
#X connect 8 0 7 0;
#X connect 8 1 9 0;
#X connect 9 0 10 0;
#X connect 9 1 5 0;
#X connect 10 0 3 0;
#X connect 10 1 15 0;
#X connect 10 2 12 0;
#X connect 12 0 4 0;
#X connect 15 0 12 0;
#X restore 238 339 pd split into 7-bit bytes;
#X msg 58 78 32;
#X obj 241 308 mtof;
#X floatatom 241 283 5 0 0 0 - - -, f 5;
#X obj 296 131 f;
#X obj 296 153 + 1;
#X msg 363 96 - 1;
#X obj 414 106 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 266 249 + 60;
#X obj 299 204 t f f;
#X msg 307 259 0;
#X msg 289 7 1;
#X obj 302 40 metro 40;
#X obj 296 175 mod 12;
#X obj 312 232 sel 11;
#X msg 256 386 32 \$1 \$2 30 0;
#X text 321 8 Toca som;
#X text 92 80 0x20 Play Tone;
#X obj 256 425 s 0-CP-SYSEX;
#X connect 0 0 15 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 6 0 4 1;
#X connect 7 0 4 0;
#X connect 8 0 3 0;
#X connect 9 0 14 0;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 12 0 4 0;
#X connect 13 0 4 1;
#X connect 13 0 9 0;
#X connect 14 0 10 0;
#X connect 15 0 18 0;
#X restore 290 141 pd BUZZER;
#X msg 502 137 80;
#X text 29 53 https://learn.adafruit.com/circuit-playground-firmata/firmata-extension-reference
;
#X msg -19 102 close;
#N canvas 704 347 450 300 ACELL_TAP 0;
#X msg 30 62 56;
#X text 57 62 0x38 ACCEL_TAP_STREAM_ON;
#X msg 34 115 57;
#X text 61 115 0x39 ACCEL_TAP_STREAM_OFF;
#X msg 51 207 61;
#X text 83 208 Set Tap Detection Configuration;
#X text 80 234 Ver online;
#X msg 277 65 49;
#X text 304 65 0x31 ACCEL_TAP;
#X obj 30 85 s 0-CP-SYSEX;
#X obj 34 138 s 0-CP-SYSEX;
#X obj 277 99 s 0-CP-SYSEX;
#X connect 0 0 9 0;
#X connect 2 0 10 0;
#X connect 7 0 11 0;
#X restore 202 169 pd ACELL_TAP;
#X obj 718 57 CircuitPlayground 0;
#X obj -19 191 s 0-CP;
#X obj 502 159 s 0-CP-SYSEX;
#X text 682 80 Use serial port as creation argument;
#N canvas 364 154 589 396 CAP 0;
#X obj 276 212 s 0-CP-SYSEX;
#X text 328 168 0x40 Read a single capacitive input;
#X msg 276 186 64 \$1;
#X obj 193 29 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144 -1
-1 7;
#X text 337 127 (0 \, 1 \, 2 \, 3 \, 6 \, 9 \, 10 \, 12);
#X obj 193 60 sel 4 5 6 7;
#X floatatom 277 150 5 0 0 0 - - -, f 5;
#X msg 140 105 6;
#X msg 177 104 9;
#X msg 213 101 10;
#X msg 244 103 12;
#X obj 292 336 s 0-CP-SYSEX;
#X msg 292 296 64 0;
#X obj 92 251 r 0-CP_CAP_REPLY 12;
#X floatatom 79 305 5 0 0 0 - - -, f 5;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 8 0;
#X connect 5 2 9 0;
#X connect 5 3 10 0;
#X connect 5 4 6 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X restore 365 141 pd CAP;
#N canvas 358 151 991 455 ACELL 0;
#X msg 56 65 48;
#X text 83 65 0x30 ACCEL_READ;
#X obj 56 99 s 0-CP-SYSEX;
#X obj 49 258 vsl 15 128 -19 19 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 52 140 r 0-CP_ACELL_X;
#X obj 85 160 r 0-CP_ACELL_Y;
#X obj 118 184 r 0-CP_ACELL_Z;
#N canvas 41 216 797 523 VER 0;
#X obj 376 67 unpack 0 0 0;
#X obj 109 440 expr sqrt(pow($f1 \, 2) + pow($f2 \, 2) + pow($f3 \,
2));
#X obj 367 126 atan;
#X obj 367 105 expr $f1 / $f2;
#X obj 400 150 expr if ($f1 > 0 \, 3.14159 \, -3.14159);
#X obj 367 177 pack 0 0 0;
#X obj 367 199 expr if ($f3 <= 0 \, $f1 + $f2 \, $f1);
#X obj 367 221 * -1;
#X obj 52 289 s \$0-wii-pitch-set;
#X obj 367 291 s \$0-wii-roll-set;
#X text 92 342 The pitch and roll are only accurate if there are no
extra accelerations due to hand movement. We can check if the total
acceleration is close to gravity and only use pitch and roll in that
case. The total acceleration is given by:;
#X obj 41 67 unpack 0 0 0;
#X obj 52 126 atan;
#X obj 52 105 expr $f1 / $f2;
#X obj 84 150 expr if ($f1 > 0 \, 3.14159 \, -3.14159);
#X obj 52 177 pack 0 0 0;
#X obj 52 199 expr if ($f3 <= 0 \, $f1 + $f2 \, $f1);
#X obj 52 221 * -1;
#X obj 242 406 unpack 0 0 0;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 2 3 1;
#X connect 0 2 5 2;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 5 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 11 1 13 0;
#X connect 11 1 14 0;
#X connect 11 2 13 1;
#X connect 11 2 15 2;
#X connect 12 0 15 0;
#X connect 13 0 12 0;
#X connect 14 0 15 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 8 0;
#X connect 18 0 1 0;
#X connect 18 1 1 1;
#X connect 18 2 1 2;
#X restore 324 414 pd VER;
#X obj 88 258 vsl 15 128 -19 19 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 123 262 vsl 15 128 -19 19 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X connect 0 0 2 0;
#X restore 299 173 pd ACELL;
#X obj 667 279 atan;
#X obj 667 258 expr $f1 / $f2;
#X obj 700 303 expr if ($f1 > 0 \, 3.14159 \, -3.14159);
#X obj 667 330 pack 0 0 0;
#X obj 667 352 expr if ($f3 <= 0 \, $f1 + $f2 \, $f1);
#X obj 667 374 * -1;
#X obj 646 157 r 0-CP_ACELL_X;
#X obj 756 154 r 0-CP_ACELL_Z;
#X obj 667 402 + 3.14159;
#X obj 667 424 / 6.28318;
#X obj 391 563 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6664 1;
#X msg 27 371 58;
#X msg 27 457 59;
#X text 54 457 0x30 ACCEL_STREAM_STOP;
#X text 54 371 0x30 ACCEL_STREAM_START;
#X obj 27 405 s 0-CP-SYSEX;
#X obj 28 491 s 0-CP-SYSEX;
#X obj 667 468 + 0.5;
#X obj 667 490 int;
#X obj 545 669 s 0-CP-SYSEX;
#X obj 315 328 atan;
#X obj 315 307 expr $f1 / $f2;
#X obj 347 352 expr if ($f1 > 0 \, 3.14159 \, -3.14159);
#X obj 315 379 pack 0 0 0;
#X obj 315 401 expr if ($f3 <= 0 \, $f1 + $f2 \, $f1);
#X obj 315 423 * -1;
#X obj 419 249 r 0-CP_ACELL_Z;
#X obj 309 252 r 0-CP_ACELL_Y;
#X obj 465 459 + 3.14159;
#X obj 465 481 / 6.28318;
#X obj 476 586 + 0.5;
#X obj 476 608 int;
#X msg 796 552 18 \, 16 \$1 127 0 0 0 \, 17;
#X obj 547 600 pack f f;
#X msg 545 636 18 \, 16 \$1 127 0 0 0 \, 16 \$2 0 127 0 0 \, 17;
#X obj 667 446 * 9;
#X obj 476 514 * 9;
#X obj 476 541 expr 9 - $f1;
#X msg 123 109 info;
#X text 529 137 0x50 SENSECOLOR;
#X connect 0 0 10 0;
#X connect 5 0 11 0;
#X connect 7 0 10 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 18 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 23 0;
#X connect 21 0 17 0;
#X connect 21 0 16 0;
#X connect 22 0 18 2;
#X connect 22 0 16 1;
#X connect 23 0 24 0;
#X connect 24 0 50 0;
#X connect 26 0 30 0;
#X connect 27 0 31 0;
#X connect 32 0 33 0;
#X connect 33 0 48 0;
#X connect 35 0 38 0;
#X connect 36 0 35 0;
#X connect 37 0 38 1;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 43 0;
#X connect 41 0 38 2;
#X connect 41 0 36 1;
#X connect 42 0 37 0;
#X connect 42 0 36 0;
#X connect 43 0 44 0;
#X connect 44 0 25 0;
#X connect 44 0 51 0;
#X connect 45 0 46 0;
#X connect 46 0 48 1;
#X connect 48 0 49 0;
#X connect 49 0 34 0;
#X connect 50 0 32 0;
#X connect 51 0 52 0;
#X connect 52 0 45 0;
#X connect 53 0 10 0;
